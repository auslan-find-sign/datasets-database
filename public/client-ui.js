require=function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){const Nanocomponent=require("nanocomponent");const raw=require("nanohtml/raw");const{paramCase:paramCase}=require("param-case");const diffWidgets=require("./utilities/diff-widgets");const Serialize=require("./utilities/serialize");const codetable="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split("");function makeRPCID(length=12){let str=[];while(str.length<length){str.push(codetable[Math.round(Math.random()*(codetable.length-1))])}return str.join("")}class BasicWidget extends Nanocomponent{constructor(){super();this.rpcID=makeRPCID();this.className=paramCase(this.constructor.name)}update(){return true}rpc(func){if(!this.root||typeof this.root.sendRemoteEvent!=="function"){throw new Error("This widget hasn’t been sent in a webpage yet, so .rpc() is unavailable")}const backups=this.listWidgets().map(x=>x.clone());func(this);const patchList=diffWidgets(backups,this.listWidgets());const data={patchList:patchList};console.info("RPC out",JSON.stringify(data));this.root.sendRemoteEvent(data)}clone(deep=false){return Serialize.clone(this,deep)}getConstructorOptions(){console.warn(`${this.constructor.name} doesn't implement getConstructorOptions()`);return{}}mergeRPCUpdate(patch){const getPath=(obj,path)=>path.length===0?obj:getPath(obj[path[0]],path.slice(1));const setPath=(obj,path,value)=>getPath(obj,path.slice(0,-1))[path[path.length-1]]=value;patch.forEach(([task,keypath,...args])=>{if(task==="dp"){delete getPath(this,keypath.slice(0,-1))[keypath.length-1]}else if(task==="sp"){setPath(this,keypath,args[0])}else if(task==="am"){const[map,values]=args;const target=getPath(this,keypath);const backup=[...target];map.forEach(([oldIndex,newIndex])=>{if(oldIndex>=0){target[newIndex]=backup[oldIndex]}else{target[newIndex]=values[-1-oldIndex]}})}else{throw new Error(`Unknown widget patch task "${task}"!`)}})}listWidgets(){const collection=[];const collect=input=>{if(input instanceof BasicWidget){collection.push(input);collect(input.getConstructorOptions())}else if(Array.isArray(input)){input.forEach(collect)}else if(typeof input==="object"){collect(Object.values(input))}};collect(this);return collection}shallowEquals(arg){if(typeof arg==="object"&&"getConstructorOptions"in arg){const a=JSON.stringify(this.getConstructorOptions(),BasicWidget.json().replacerWithoutWidgets);const b=JSON.stringify(arg.getConstructorOptions(),BasicWidget.json().replacerWithoutWidgets);if(a===b){return true}}return false}}BasicWidget.json=((widgets,previousWidgetList=[])=>{const functions={replacerWithoutWidgets:(key,value)=>{if(value instanceof BasicWidget){return{__widget:value.constructor.name,rpcID:value.rpcID}}else{return functions.replacer(key,value)}},replacer:(key,value)=>{if(value instanceof BasicWidget){const previousWidget=previousWidgetList.find(x=>x.rpcID===value.rpcID);if(previousWidget&&previousWidget.shallowEquals(value)){return{__widget:value.constructor.name,rpcID:value.rpcID}}else{return{__widget:value.constructor.name,rpcID:value.rpcID,options:value.getConstructorOptions()}}}else if(value instanceof String&&value.__encoded===true){return{__html:value}}else{return value}},reviver:(key,value)=>{if(typeof value==="object"&&typeof value.__widget==="string"&&typeof value.rpcID==="string"){const FoundWidget=widgets.find(x=>x.name===value.__widget);if(FoundWidget){const widget=new FoundWidget(value.options);widget.rpcID=value.rpcID;return widget}}else if(typeof value==="object"&&typeof value.__html==="string"){return raw(value.__html)}return value}};return functions});module.exports=BasicWidget},{"./utilities/diff-widgets":17,"./utilities/serialize":18,nanocomponent:31,"nanohtml/raw":37,"param-case":46}],2:[function(require,module,exports){const widget=require("./basic-widget");const StyleObject=require("@bluebie/style-object");const html=require("nanohtml");const render=require("./render");class Button extends widget{constructor({label:label="Button",hue:hue=190,style:style={},onClick:onClick=(()=>{}),link:link=null,type:type="submit"}){super();this.style=new StyleObject(style);this.label=label;this.hue=hue;this.link=link;this.type=type;this.onClick=onClick;this.clickHandler=this.clickHandler.bind(this)}set hue(value){this.style["--hue"]=`${parseFloat(value)}deg`}get hue(){return parseFloat(this.style["--hue"])}clickHandler(event){console.log(`${this.constructor.name} (${this.label}) clicked`);return this.onClick(event)}createElement(){const attributes={class:this.className,role:"button",style:this.style,onclick:this.clickHandler};if(this.link){return html`<a ${attributes} href="${this.link}">${render(this.label)}</a>`}else{return html`<button ${attributes} type=${this.type}>${render(this.label)}</button>`}}getConstructorOptions(){return{label:this.label,hue:this.hue,link:this.link,type:this.type}}}module.exports=Button},{"./basic-widget":1,"./render":12,"@bluebie/style-object":19,nanohtml:34}],3:[function(require,module,exports){const widget=require("./basic-widget");const html=require("nanohtml");const render=require("./render");class CardSpread extends widget{constructor({cards:cards=[]}){super();this.cards=cards}createElement(){return html`<div class="${this.className}">${render(this.cards)}</div>`}getConstructorOptions(){return{cards:this.cards}}}module.exports=CardSpread},{"./basic-widget":1,"./render":12,nanohtml:34}],4:[function(require,module,exports){const widget=require("./basic-widget");const StyleObject=require("@bluebie/style-object");const html=require("nanohtml");const render=require("./render");class FlexRow extends widget{constructor({contents:contents=[],justify:justify="flex-start",wrap:wrap=false,style:style={}}){super();this.contents=contents;this.justify=justify;this.wrap=wrap;this.style=new StyleObject({justifyContent:()=>this.justify!=="flex-start"?this.justify:null,flexWrap:()=>this.wrap?"wrap":null,...style})}createElement(){const spring=pressure=>html`<span class="spring" style="flex-grow: ${pressure}"></span>`;const contents=this.contents.map(i=>typeof i==="number"?spring(i):i);return html`<div class="${this.className}" style="${this.style}">${render(contents)}</div>`}getConstructorOptions(){return{contents:this.contents,justify:this.justify,wrap:this.wrap}}}module.exports=FlexRow},{"./basic-widget":1,"./render":12,"@bluebie/style-object":19,nanohtml:34}],5:[function(require,module,exports){const html=require("nanohtml");const widget=require("./basic-widget");const StyleObject=require("@bluebie/style-object");const render=require("./render");class Heading extends widget{constructor(arg){super();if(typeof arg==="string")arg={contents:arg};this.contents=arg.contents||[];this.level=parseInt(arg.level||1);if(typeof this.level!=="number"||Math.round(this.level)!==this.level){throw new Error("level must be an integer Number")}if(this.level<1||this.level>6){throw new Error("level must be a value between 1 and 6 inclusive")}this.style=new StyleObject(arg.style||{})}createElement(){if(this.level===1){return html`<h1 class="${this.className}" style="${this.style}">${render(this.contents)}</h1>`}else if(this.level===2){return html`<h2 class="${this.className}" style="${this.style}">${render(this.contents)}</h2>`}else if(this.level===3){return html`<h3 class="${this.className}" style="${this.style}">${render(this.contents)}</h3>`}else if(this.level===4){return html`<h4 class="${this.className}" style="${this.style}">${render(this.contents)}</h4>`}else if(this.level===5){return html`<h5 class="${this.className}" style="${this.style}">${render(this.contents)}</h5>`}else if(this.level===5){return html`<h6 class="${this.className}" style="${this.style}">${render(this.contents)}</h6>`}}getConstructorOptions(){return{contents:this.contents,level:this.level,style:this.style.values()}}}module.exports=Heading},{"./basic-widget":1,"./render":12,"@bluebie/style-object":19,nanohtml:34}],6:[function(require,module,exports){const html=require("nanohtml");const widget=require("./basic-widget");const StyleObject=require("@bluebie/style-object");const render=require("./render");class HTMLBody extends widget{constructor({title:title="Webpage",contents:contents=[]}){super();this.contents=contents;this.title=title;this.headTags=[]}createElement(){if(typeof window==="object"){document.title=this.title}return html`<body>${render(this.contents)}</body>`}getConstructorOptions(){return{title:this.title,contents:this.contents}}disconnect(){setTimeout(()=>this.sendRemoteEvent({disconnect:true}),0)}}module.exports=HTMLBody},{"./basic-widget":1,"./render":12,"@bluebie/style-object":19,nanohtml:34}],7:[function(require,module,exports){const html=require("nanohtml");const widget=require("./basic-widget");const StyleObject=require("@bluebie/style-object");const render=require("./render");class Link extends widget{constructor(arg){super();if(typeof arg==="string")arg={contents:arg,url:arg};this.contents=arg.contents||"";this.url=arg.url||"";this.style=new StyleObject(arg.style||{})}createElement(){return html`<a class="${this.className}" style="${this.style}" href="${this.url}">${render(this.contents)}</a>`}getConstructorOptions(){return{contents:this.contents,url:this.url,style:this.style.values()}}}module.exports=Link},{"./basic-widget":1,"./render":12,"@bluebie/style-object":19,nanohtml:34}],8:[function(require,module,exports){const html=require("nanohtml");const widget=require("./basic-widget");const StyleObject=require("@bluebie/style-object");const render=require("./render");class Monospace extends widget{constructor(arg){super();if(typeof arg==="string")arg={contents:arg};this.contents=arg.contents||[];this.style=new StyleObject(arg.style||{})}createElement(){return html`<pre class="${this.className}" style="${this.style}">${render(this.contents)}</pre>`}getConstructorOptions(){return{contents:this.contents,style:this.style.values()}}}module.exports=Monospace},{"./basic-widget":1,"./render":12,"@bluebie/style-object":19,nanohtml:34}],9:[function(require,module,exports){const widget=require("./basic-widget");const StyleObject=require("@bluebie/style-object");const html=require("nanohtml");const render=require("./render");class NoticePanel extends widget{constructor({title:title="Notice",contents:contents="",style:style={}}){super();this.title=title;this.contents=contents;this.style=new StyleObject(style)}createElement(){return html`<div class="${this.className}" style="${this.style}">
      <h1>${render(this.title)}</h1>
      <div>
        ${render(this.contents)}
      </div>
    </div>`}getConstructorOptions(){return{contents:this.contents,title:this.title,style:this.style.values()}}}module.exports=NoticePanel},{"./basic-widget":1,"./render":12,"@bluebie/style-object":19,nanohtml:34}],10:[function(require,module,exports){const html=require("nanohtml");const widget=require("./basic-widget");const StyleObject=require("@bluebie/style-object");const render=require("./render");class Paragraph extends widget{constructor(arg){super();if(typeof arg==="string")arg={contents:arg};this.contents=arg.contents||[];this.style=new StyleObject(arg.style||{})}createElement(){return html`<p class="${this.className}" style="${this.style}">${render(this.contents)}</p>`}getConstructorOptions(){return{contents:this.contents,style:this.style.values()}}}module.exports=Paragraph},{"./basic-widget":1,"./render":12,"@bluebie/style-object":19,nanohtml:34}],11:[function(require,module,exports){const widget=require("./basic-widget");const StyleObject=require("@bluebie/style-object");const html=require("nanohtml");const render=require("./render");class PlayingCard extends widget{constructor({symbol:symbol="❓",title:title="Card Title",contents:contents="Card Text",invert:invert=false,link:link=null,style:style={}}){super();this.symbol=symbol;this.title=title;this.contents=contents;this.invert=invert;this.link=link;this.style=new StyleObject(style)}createElement(){const classes=[this.className];if(this.invert)classes.push("invert");const pieces=[html`<span class="symbol">${render(this.symbol)}</span>`,html`<span class="title">${render(this.title)}</span>`,html`<span class="text">${render(this.contents)}</span>`];const attributes={class:classes.join(" "),style:this.style};if(this.link){return html`<a ${attributes} href="${this.link}">${pieces}</a>`}else{return html`<div ${attributes}>${pieces}</div>`}}getConstructorOptions(){return{contents:this.contents,title:this.title,symbol:this.symbol,invert:this.invert,link:this.link,style:this.style.values()}}}module.exports=PlayingCard},{"./basic-widget":1,"./render":12,"@bluebie/style-object":19,nanohtml:34}],12:[function(require,module,exports){const html=require("nanohtml");const raw=require("nanohtml/raw");const BasicWidget=require("./basic-widget");module.exports=((...inputs)=>{const flattened=inputs.flat(Infinity);const rendered=flattened.map(item=>{if(item instanceof BasicWidget){return item.render()}else{return html`${item}`}});return rendered})},{"./basic-widget":1,nanohtml:34,"nanohtml/raw":37}],13:[function(require,module,exports){const widget=require("./basic-widget");const Nanocomponent=require("nanocomponent");const html=require("nanohtml");const Button=require("./button");const render=require("./render");function makeID(){return"simple-form-"+Math.floor((1+Math.random())*65536).toString(16).substring(1)}class SimpleForm extends widget{constructor({title:title="Simple Form",fields:fields={},url:url="",method:method="POST",buttonLabel:buttonLabel="Submit",formID:formID=null}){super();this.title=title;this.fields=fields;this.url=url;this.method=method;this.buttonLabel=buttonLabel;this.formID=formID||makeID()}createElement(){const title=html`<h1>${render(this.title)}</h1>`;const fields=Object.entries(this.fields).flatMap(([name,options])=>{const fieldID=`${this.formID}-${name}`;const label=html`<dt><label for="${fieldID}">${render(options.label||name)}</label></dt>`;let input;if(typeof options==="string"||options instanceof Nanocomponent){input=render(options)}else{input=html`<dd><input id="${fieldID}" type="${options.type||"text"}" name="${name}" value="${options.value}"></dd>`}return[label,input]});const fieldList=html`<dl>${fields}</dl>`;const button=new Button({label:this.buttonLabel,type:"submit"});const formAttributes={class:this.className,id:this.formID,action:this.url,method:this.method};return html`<form ${formAttributes}>
      ${title}
      ${fieldList}
      ${render(button)}
    </form>`}getConstructorOptions(){return{title:this.title,fields:this.fields,url:this.url,method:this.method,buttonLabel:this.buttonLabel,formID:this.formID}}}module.exports=SimpleForm},{"./basic-widget":1,"./button":2,"./render":12,nanocomponent:31,nanohtml:34}],14:[function(require,module,exports){const html=require("nanohtml");const raw=require("nanohtml/raw");const widget=require("./basic-widget");const StyleObject=require("@bluebie/style-object");const highlight=require("h.js");class SourceCode extends widget{constructor(arg){super();if(typeof arg==="string")arg={contents:arg,language:"javascript"};this.contents=arg.contents||"";this.language=arg.language||"javascript";this.style=new StyleObject(arg.style||{});if(typeof this.contents!=="string"){throw new Error("contents must be a string, not an array of strings or components/widgets")}if(this.language!=="javascript"){throw new Error("only javascript is supported currently")}}createElement(){const highlighted=highlight(this.contents);return html`<pre class="${this.className}" style="${this.style}" data-language="${this.language}"><code>${raw(highlighted)}</code></pre>`}getConstructorOptions(){return{contents:this.contents,language:this.language,style:this.style.values()}}}module.exports=SourceCode},{"./basic-widget":1,"@bluebie/style-object":19,"h.js":25,nanohtml:34,"nanohtml/raw":37}],15:[function(require,module,exports){const html=require("nanohtml");const widget=require("./basic-widget");const StyleObject=require("@bluebie/style-object");const render=require("./render");class StyledText extends widget{constructor(arg){super();if(typeof arg==="string")arg={contents:arg};this.contents=arg.contents||[];this.style=new StyleObject(arg.style||{})}createElement(){return html`<span class="${this.className}" style="${this.style}">${render(this.contents)}</span>`}getConstructorOptions(){return{contents:this.contents,style:this.style.values()}}}module.exports=StyledText},{"./basic-widget":1,"./render":12,"@bluebie/style-object":19,nanohtml:34}],16:[function(require,module,exports){const FlexRow=require("./flex-row");const Nanocomponent=require("nanocomponent");const html=require("nanohtml");const StyleObject=require("@bluebie/style-object");class Toolbar extends FlexRow{constructor({contents:contents=[],style:style={}}){super({contents:contents,style:style,justify:"space-between"})}getConstructorOptions(){return{contents:this.contents}}}module.exports=Toolbar},{"./flex-row":4,"@bluebie/style-object":19,nanocomponent:31,nanohtml:34}],17:[function(require,module,exports){const Serialize=require("./serialize");function diff(beforeList,afterList,path=[]){const beforeMap=Object.fromEntries(beforeList.map(x=>[x.rpcID,x]));const afterMap=Object.fromEntries(afterList.map(x=>[x.rpcID,x]));const prefix=(prepend,diffList)=>{return diffList.map(([op,path,...args])=>[op,[...prepend,...path],...args])};const isWidget=obj=>typeof obj==="object"&&typeof obj.getConstructorOptions==="function"&&typeof obj.rpcID==="string";const isHTML=obj=>typeof obj==="object"&&obj.__encoded===true;const diffSetProp=value=>[["sp",[],value]];const arrayDiff=(before,after)=>{const attempts=[];if(before.length<after.length){const encoding=[];after.forEach((value,index)=>{if(before[index]!==after[index]){encoding.push(["sp",[index],value])}});attempts.push(encoding)}let mapping=[];let values=[];after.forEach((value,index)=>{let foundIndex=before.findIndex(v=>v===value);if(foundIndex>=0&&index!==foundIndex){mapping.push([foundIndex,index])}else if(foundIndex<0){let valueIndex=values.findIndex(v=>v===value);if(valueIndex===-1){valueIndex=values.length;values.push(value)}mapping.push([-1-valueIndex,index]);values.push(value)}});attempts.push([["am",[],mapping,values]]);attempts.push([["sp",[],after]]);const sorted=attempts.map(encoding=>{const json=Serialize.encode(encoding,true);return[json.length,encoding]}).sort((a,b)=>a.length-b.length);return sorted[0][1]};const objectDiff=(before,after,ignoreKeys=[])=>{const deletedProps=Object.keys(before).filter(key=>!key in after&&ignoreKeys.includes(key));const changedProps=[];for(const key in after){if(!ignoreKeys.includes(key)){changedProps.push(prefix([key],thingDiff(before,after)))}}return[...deletedProps.map(key=>["dp",[key]]),...changedProps.flat()]};const widgetDiff=(before,after)=>{if(!isWidget(after))throw new Error("Expected a widget");let list=[];if(beforeMap[after.rpcID]){list.push(...objectDiff(beforeMap[before.rpcID],after,["root","rpcID","rpcUplink","liveConnected","liveDisconnected"]))}return list};const thingDiff=(before,after)=>{if(isWidget(after)){if(!isWidget(before)||before.rpcID!==after.rpcID){return diffSetProp(after)}}else if(isHTML(after)){if(!isHTML(before)||`${before}`!==`${after}`){return diffSetProp(after)}}else if(Array.isArray(after)){return arrayDiff(before,after)}else if(typeof after==="object"){return objectDiff(before,after)}else if(before!==after){return diffSetProp(after)}return[]};const output={};for(const after of afterList){const before=beforeMap[after.rpcID];output[after.rpcID]=widgetDiff(before,after)}return output}module.exports=diff},{"./serialize":18}],18:[function(require,module,exports){const raw=require("nanohtml/raw");const Serialize={encode(data,stub=false,indent=undefined){return JSON.stringify(data,(key,value)=>{if(typeof value==="object"&&value.getConstructorOptions){if(stub===true||Array.isArray(stub)&&stub.find(x=>x.rpcID===value.rpcID)){return{__widget:value.rpcID}}else{return{__widget:value.rpcID,type:value.constructor.name,opts:value.getConstructorOptions()}}}else if(value instanceof String&&value.__encoded===true){return{__html:value}}else{return value}},indent)},decode(data,widgetConstructors=[],existingWidgets=[]){return JSON.parse(data,(key,value)=>{if(typeof value==="object"&&typeof value.__widget==="string"){const existingWidget=existingWidgets.find(x=>x.rpcID===value.__widget);if(existingWidget){return existingWidget}const FoundWidget=existingWidgets.find(x=>x.constructor.name===value.type);if(FoundWidget){const widget=new FoundWidget(value.opts);return widget}throw new Error(`serialized data contains widget of type "${value.type}" but local version isn't available`)}else if(typeof value==="object"&&typeof value.__html==="string"){return raw(value.__html)}return value})},clone(input,deep=false){if(deep){const constructors=input.listWidgets().map(x=>x.constructor);return Serialize.decode(Serialize.encode(input,false),constructors)}else{const referenceWidgets=input.listWidgets().filter(x=>x!==input);return Serialize.decode(Serialize.encode(input,referenceWidgets),[input.constructor],referenceWidgets)}}};module.exports=Serialize},{"nanohtml/raw":37}],19:[function(require,module,exports){const inlineStyle=require("inline-style");class StyleObject{constructor(initial){if(initial){this.set(initial)}}set(obj){Object.entries(obj).forEach(([key,value])=>this[key]=value)}get outerHTML(){return this.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}setVariables(obj){Object.entries(obj).forEach(([key,value])=>this[`--${key}`]=value)}toString(){return inlineStyle(this.values())}values(){const entries=Object.entries(this);return Object.fromEntries(entries.map(([key,value])=>{if(typeof value=="function")value=value();if(Array.isArray(value))value=value.filter(x=>x!==null).join(", ");return[key,value]}).filter(([key,value])=>value!==undefined&&value!==null))}updateElement(element){Object.assign(element.style,this.values())}}module.exports=StyleObject},{"inline-style":28}],20:[function(require,module,exports){},{}],21:[function(require,module,exports){"use strict";module.exports=function dashify(str){if(typeof str!=="string"){throw new TypeError("dashify expects a string.")}str=str.replace(/[A-Z]/g,"-$&");str=str.replace(/[ \t]/g,"-");return str.toLowerCase()}},{}],22:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=require("tslib");var no_case_1=require("no-case");function dotCase(input,options){if(options===void 0){options={}}return no_case_1.noCase(input,tslib_1.__assign({delimiter:"."},options))}exports.dotCase=dotCase},{"no-case":44,tslib:47}],23:[function(require,module,exports){(function(global){(function(){var topLevel=typeof global!=="undefined"?global:typeof window!=="undefined"?window:{};var minDoc=require("min-document");var doccy;if(typeof document!=="undefined"){doccy=document}else{doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"];if(!doccy){doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc}}module.exports=doccy}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"min-document":20}],24:[function(require,module,exports){(function(global){(function(){var win;if(typeof window!=="undefined"){win=window}else if(typeof global!=="undefined"){win=global}else if(typeof self!=="undefined"){win=self}else{win={}}module.exports=win}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],25:[function(require,module,exports){module.exports=((p,s=[...p].reduce((s,c)=>(c=s.split(c)).join(c.pop()),`(hzh=q,f,t='',e=tztj[<&]/g,czZ&#Yc.charCodeAt()};ZWc=_z(_=sj^Vs*)V/V/.\n*U*([^]*T*S/|[^]*R)/,(_,w,m)z(t+=ZYw}Qc>YPm)j@Sw+/g,dzZQd>YdMZ)MZ,''R)=\n=s?q=_):cq=_Wr=_zq=cq)j^Vs*)V/[^*](V[VS.|.)*T]US.|.)+T/[imguys]*|.*R/,(\n_,w,m)z(t+=ZYw}Qr>YmMZ,''RWm=r(Wl,p=0)z{whilP(m=/^([^]*?)Vb(asyncL=[Sx2\n0St]*KfunctionSb|KSw+U(.*TR[Sx20St]*zR|break|catch|class|conKst|tinue)|\ndefault|do|else|finally|for|from|function|if|import|let|static|super|sw\nitch|this|try|var|while|with|(await|case|delete|export|extends|inKstanc\neof)?|new|of|return|throw|typeof|void|yieldRSb|VbK0[xX][a-fA-FJ+n?|true\n|false|null|undefined|NaN|Infinity)Sb|KS.[J+UbK0[oObBHTd[J*KnU.[J*|RK[e\nE][-+]?[J+)?)|(Vx22|')KKSS[^]|.)*T7|.*R|V?T.L![.SdH|[)S]}H|V.S.S.|[V[{;\n,:]|zU?L!S?R|(--|&&U+S+UU|UT?|K<<|>>>?|[-+S/%&|^<>]U*S*?)=?|~|[!=]=?=?)\n|([$Sw]+L=Ss*[(Z     ]R|(Z)|(.L=S/[*S/]R)/.exec(   cqR)&&         G7+1]\n!='}'||f!=1Rs=D9     8W912]?!(nz{t+=P91H+'Qs>Z';   whil    P(n=/^    ([\n^]*?)VS.|(Z)|VYR     /.execqR&&!n[1+2Hs=Dn[8Wt+=   Pn[    1H+(n[2    +2\n]?'Qp>SY6Qi>'+(l     =hq,1Wtypeof(l)>'r'?q='',l+   '6'    ):q=l[1],l[0]\n+'6Qp>M'R:Pn[2]R     ;t+=(n?Pn[0],s=Dn[8R:eq,s='   'R+'    6'})():(t+=P\n91H+G12+1]||91+2            ]&&(p&&/^Ss*$/.testG   1H&&(/     ^Ss*[(Z]/\n.testq,91+2]=92+             2]='')?!G11]=92H:1)   ||/^Ss*:       /.tes\ntqR?P92H:ZQY'___     k_vs_   ppof'[m.i    ndexOf   G2],1+2)]}>Y     P92\nHMZWp={'.':1,'?.     ':1}[   92]]W(f&&    G7+1]=   ='}'&&f--||910    -1\n]=='{'&&f++)WG2+     2]||9   10-   1]|    |910H&   &r(    );retur    n(\nm?[t+P91]WD98)]:     t+eqR   })(   )z=             >q(    sj.rep    lac\nP/Z\`Y\${W),V(SU     |ST?S   S\\   R))Q           <spanSx         20cla\nss=Pe(M}6L(?KL:JSd_]H])G(9Ds.slicP9m[80].length6</span>`.replace(/\s/g,"")))=>(0,eval)(s))(`689DGHJKLMPQRSTUVWYZjqz`)},{}],26:[function(require,module,exports){module.exports=attributeToProperty;var transform={class:"className",for:"htmlFor","http-equiv":"httpEquiv"};function attributeToProperty(h){return function(tagName,attrs,children){for(var attr in attrs){if(attr in transform){attrs[transform[attr]]=attrs[attr];delete attrs[attr]}}return h(tagName,attrs,children)}}},{}],27:[function(require,module,exports){var attrToProp=require("hyperscript-attribute-to-property");var VAR=0,TEXT=1,OPEN=2,CLOSE=3,ATTR=4;var ATTR_KEY=5,ATTR_KEY_W=6;var ATTR_VALUE_W=7,ATTR_VALUE=8;var ATTR_VALUE_SQ=9,ATTR_VALUE_DQ=10;var ATTR_EQ=11,ATTR_BREAK=12;var COMMENT=13;module.exports=function(h,opts){if(!opts)opts={};var concat=opts.concat||function(a,b){return String(a)+String(b)};if(opts.attrToProp!==false){h=attrToProp(h)}return function(strings){var state=TEXT,reg="";var arglen=arguments.length;var parts=[];for(var i=0;i<strings.length;i++){if(i<arglen-1){var arg=arguments[i+1];var p=parse(strings[i]);var xstate=state;if(xstate===ATTR_VALUE_DQ)xstate=ATTR_VALUE;if(xstate===ATTR_VALUE_SQ)xstate=ATTR_VALUE;if(xstate===ATTR_VALUE_W)xstate=ATTR_VALUE;if(xstate===ATTR)xstate=ATTR_KEY;if(xstate===OPEN){if(reg==="/"){p.push([OPEN,"/",arg]);reg=""}else{p.push([OPEN,arg])}}else if(xstate===COMMENT&&opts.comments){reg+=String(arg)}else if(xstate!==COMMENT){p.push([VAR,xstate,arg])}parts.push.apply(parts,p)}else parts.push.apply(parts,parse(strings[i]))}var tree=[null,{},[]];var stack=[[tree,-1]];for(var i=0;i<parts.length;i++){var cur=stack[stack.length-1][0];var p=parts[i],s=p[0];if(s===OPEN&&/^\//.test(p[1])){var ix=stack[stack.length-1][1];if(stack.length>1){stack.pop();stack[stack.length-1][0][2][ix]=h(cur[0],cur[1],cur[2].length?cur[2]:undefined)}}else if(s===OPEN){var c=[p[1],{},[]];cur[2].push(c);stack.push([c,cur[2].length-1])}else if(s===ATTR_KEY||s===VAR&&p[1]===ATTR_KEY){var key="";var copyKey;for(;i<parts.length;i++){if(parts[i][0]===ATTR_KEY){key=concat(key,parts[i][1])}else if(parts[i][0]===VAR&&parts[i][1]===ATTR_KEY){if(typeof parts[i][2]==="object"&&!key){for(copyKey in parts[i][2]){if(parts[i][2].hasOwnProperty(copyKey)&&!cur[1][copyKey]){cur[1][copyKey]=parts[i][2][copyKey]}}}else{key=concat(key,parts[i][2])}}else break}if(parts[i][0]===ATTR_EQ)i++;var j=i;for(;i<parts.length;i++){if(parts[i][0]===ATTR_VALUE||parts[i][0]===ATTR_KEY){if(!cur[1][key])cur[1][key]=strfn(parts[i][1]);else parts[i][1]===""||(cur[1][key]=concat(cur[1][key],parts[i][1]))}else if(parts[i][0]===VAR&&(parts[i][1]===ATTR_VALUE||parts[i][1]===ATTR_KEY)){if(!cur[1][key])cur[1][key]=strfn(parts[i][2]);else parts[i][2]===""||(cur[1][key]=concat(cur[1][key],parts[i][2]))}else{if(key.length&&!cur[1][key]&&i===j&&(parts[i][0]===CLOSE||parts[i][0]===ATTR_BREAK)){cur[1][key]=key.toLowerCase()}if(parts[i][0]===CLOSE){i--}break}}}else if(s===ATTR_KEY){cur[1][p[1]]=true}else if(s===VAR&&p[1]===ATTR_KEY){cur[1][p[2]]=true}else if(s===CLOSE){if(selfClosing(cur[0])&&stack.length){var ix=stack[stack.length-1][1];stack.pop();stack[stack.length-1][0][2][ix]=h(cur[0],cur[1],cur[2].length?cur[2]:undefined)}}else if(s===VAR&&p[1]===TEXT){if(p[2]===undefined||p[2]===null)p[2]="";else if(!p[2])p[2]=concat("",p[2]);if(Array.isArray(p[2][0])){cur[2].push.apply(cur[2],p[2])}else{cur[2].push(p[2])}}else if(s===TEXT){cur[2].push(p[1])}else if(s===ATTR_EQ||s===ATTR_BREAK){}else{throw new Error("unhandled: "+s)}}if(tree[2].length>1&&/^\s*$/.test(tree[2][0])){tree[2].shift()}if(tree[2].length>2||tree[2].length===2&&/\S/.test(tree[2][1])){if(opts.createFragment)return opts.createFragment(tree[2]);throw new Error("multiple root elements must be wrapped in an enclosing tag")}if(Array.isArray(tree[2][0])&&typeof tree[2][0][0]==="string"&&Array.isArray(tree[2][0][2])){tree[2][0]=h(tree[2][0][0],tree[2][0][1],tree[2][0][2])}return tree[2][0];function parse(str){var res=[];if(state===ATTR_VALUE_W)state=ATTR;for(var i=0;i<str.length;i++){var c=str.charAt(i);if(state===TEXT&&c==="<"){if(reg.length)res.push([TEXT,reg]);reg="";state=OPEN}else if(c===">"&&!quot(state)&&state!==COMMENT){if(state===OPEN&&reg.length){res.push([OPEN,reg])}else if(state===ATTR_KEY){res.push([ATTR_KEY,reg])}else if(state===ATTR_VALUE&&reg.length){res.push([ATTR_VALUE,reg])}res.push([CLOSE]);reg="";state=TEXT}else if(state===COMMENT&&/-$/.test(reg)&&c==="-"){if(opts.comments){res.push([ATTR_VALUE,reg.substr(0,reg.length-1)])}reg="";state=TEXT}else if(state===OPEN&&/^!--$/.test(reg)){if(opts.comments){res.push([OPEN,reg],[ATTR_KEY,"comment"],[ATTR_EQ])}reg=c;state=COMMENT}else if(state===TEXT||state===COMMENT){reg+=c}else if(state===OPEN&&c==="/"&&reg.length){}else if(state===OPEN&&/\s/.test(c)){if(reg.length){res.push([OPEN,reg])}reg="";state=ATTR}else if(state===OPEN){reg+=c}else if(state===ATTR&&/[^\s"'=/]/.test(c)){state=ATTR_KEY;reg=c}else if(state===ATTR&&/\s/.test(c)){if(reg.length)res.push([ATTR_KEY,reg]);res.push([ATTR_BREAK])}else if(state===ATTR_KEY&&/\s/.test(c)){res.push([ATTR_KEY,reg]);reg="";state=ATTR_KEY_W}else if(state===ATTR_KEY&&c==="="){res.push([ATTR_KEY,reg],[ATTR_EQ]);reg="";state=ATTR_VALUE_W}else if(state===ATTR_KEY){reg+=c}else if((state===ATTR_KEY_W||state===ATTR)&&c==="="){res.push([ATTR_EQ]);state=ATTR_VALUE_W}else if((state===ATTR_KEY_W||state===ATTR)&&!/\s/.test(c)){res.push([ATTR_BREAK]);if(/[\w-]/.test(c)){reg+=c;state=ATTR_KEY}else state=ATTR}else if(state===ATTR_VALUE_W&&c==='"'){state=ATTR_VALUE_DQ}else if(state===ATTR_VALUE_W&&c==="'"){state=ATTR_VALUE_SQ}else if(state===ATTR_VALUE_DQ&&c==='"'){res.push([ATTR_VALUE,reg],[ATTR_BREAK]);reg="";state=ATTR}else if(state===ATTR_VALUE_SQ&&c==="'"){res.push([ATTR_VALUE,reg],[ATTR_BREAK]);reg="";state=ATTR}else if(state===ATTR_VALUE_W&&!/\s/.test(c)){state=ATTR_VALUE;i--}else if(state===ATTR_VALUE&&/\s/.test(c)){res.push([ATTR_VALUE,reg],[ATTR_BREAK]);reg="";state=ATTR}else if(state===ATTR_VALUE||state===ATTR_VALUE_SQ||state===ATTR_VALUE_DQ){reg+=c}}if(state===TEXT&&reg.length){res.push([TEXT,reg]);reg=""}else if(state===ATTR_VALUE&&reg.length){res.push([ATTR_VALUE,reg]);reg=""}else if(state===ATTR_VALUE_DQ&&reg.length){res.push([ATTR_VALUE,reg]);reg=""}else if(state===ATTR_VALUE_SQ&&reg.length){res.push([ATTR_VALUE,reg]);reg=""}else if(state===ATTR_KEY){res.push([ATTR_KEY,reg]);reg=""}return res}};function strfn(x){if(typeof x==="function")return x;else if(typeof x==="string")return x;else if(x&&typeof x==="object")return x;else if(x===null||x===undefined)return x;else return concat("",x)}};function quot(state){return state===ATTR_VALUE_SQ||state===ATTR_VALUE_DQ}var closeRE=RegExp("^("+["area","base","basefont","bgsound","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr","!--","animate","animateTransform","circle","cursor","desc","ellipse","feBlend","feColorMatrix","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","font-face-format","font-face-name","font-face-uri","glyph","glyphRef","hkern","image","line","missing-glyph","mpath","path","polygon","polyline","rect","set","stop","tref","use","view","vkern"].join("|")+")(?:[.#][a-zA-Z0-9-￿_:-]+)*$");function selfClosing(tag){return closeRE.test(tag)}},{"hyperscript-attribute-to-property":26}],28:[function(require,module,exports){var dashify=require("dashify");module.exports=inlineStyle;function inlineStyle(obj){if(!obj)return"";var props=Object.keys(obj);var styles=props.map(function(key){var prop=dashify(key);var line=prop.concat(":").concat(obj[key]);return line});return styles.join(";")}},{dashify:21}],29:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var SUPPORTED_LOCALE={tr:{regexp:/\u0130|\u0049|\u0049\u0307/g,map:{"İ":"i",I:"ı","İ":"i"}},az:{regexp:/\u0130/g,map:{"İ":"i",I:"ı","İ":"i"}},lt:{regexp:/\u0049|\u004A|\u012E|\u00CC|\u00CD|\u0128/g,map:{I:"i̇",J:"j̇","Į":"į̇","Ì":"i̇̀","Í":"i̇́","Ĩ":"i̇̃"}}};function localeLowerCase(str,locale){var lang=SUPPORTED_LOCALE[locale.toLowerCase()];if(lang)return lowerCase(str.replace(lang.regexp,function(m){return lang.map[m]}));return lowerCase(str)}exports.localeLowerCase=localeLowerCase;function lowerCase(str){return str.toLowerCase()}exports.lowerCase=lowerCase},{}],30:[function(require,module,exports){assert.notEqual=notEqual;assert.notOk=notOk;assert.equal=equal;assert.ok=assert;module.exports=assert;function equal(a,b,m){assert(a==b,m)}function notEqual(a,b,m){assert(a!=b,m)}function notOk(t,m){assert(!t,m)}function assert(t,m){if(!t)throw new Error(m||"AssertionError")}},{}],31:[function(require,module,exports){var document=require("global/document");var nanotiming=require("nanotiming");var morph=require("nanomorph");var onload=require("on-load");var OL_KEY_ID=onload.KEY_ID;var OL_ATTR_ID=onload.KEY_ATTR;var assert=require("assert");module.exports=Nanocomponent;function makeID(){return"ncid-"+Math.floor((1+Math.random())*65536).toString(16).substring(1)}function Nanocomponent(name){this._hasWindow=typeof window!=="undefined";this._id=null;this._ncID=null;this._olID=null;this._proxy=null;this._loaded=false;this._rootNodeName=null;this._name=name||"nanocomponent";this._rerender=false;this._handleLoad=this._handleLoad.bind(this);this._handleUnload=this._handleUnload.bind(this);this._arguments=[];var self=this;Object.defineProperty(this,"element",{get:function(){var el=document.getElementById(self._id);if(el)return el.dataset.nanocomponent===self._ncID?el:undefined}})}Nanocomponent.prototype.render=function(){var renderTiming=nanotiming(this._name+".render");var self=this;var args=new Array(arguments.length);var el;for(var i=0;i<arguments.length;i++)args[i]=arguments[i];if(!this._hasWindow){var createTiming=nanotiming(this._name+".create");el=this.createElement.apply(this,args);createTiming();renderTiming();return el}else if(this.element){el=this.element;var updateTiming=nanotiming(this._name+".update");var shouldUpdate=this._rerender||this.update.apply(this,args);updateTiming();if(this._rerender)this._rerender=false;if(shouldUpdate){var desiredHtml=this._handleRender(args);var morphTiming=nanotiming(this._name+".morph");morph(el,desiredHtml);morphTiming();if(this.afterupdate)this.afterupdate(el)}if(!this._proxy){this._proxy=this._createProxy()}renderTiming();return this._proxy}else{this._reset();el=this._handleRender(args);if(this.beforerender)this.beforerender(el);if(this.load||this.unload||this.afterreorder){onload(el,self._handleLoad,self._handleUnload,self._ncID);this._olID=el.dataset[OL_KEY_ID]}renderTiming();return el}};Nanocomponent.prototype.rerender=function(){assert(this.element,"nanocomponent: cant rerender on an unmounted dom node");this._rerender=true;this.render.apply(this,this._arguments)};Nanocomponent.prototype._handleRender=function(args){var createElementTiming=nanotiming(this._name+".createElement");var el=this.createElement.apply(this,args);createElementTiming();if(!this._rootNodeName)this._rootNodeName=el.nodeName;assert(el instanceof window.Element,"nanocomponent: createElement should return a single DOM node");assert.equal(this._rootNodeName,el.nodeName,"nanocomponent: root node types cannot differ between re-renders");this._arguments=args;return this._brandNode(this._ensureID(el))};Nanocomponent.prototype._createProxy=function(){var proxy=document.createElement(this._rootNodeName);var self=this;this._brandNode(proxy);proxy.id=this._id;proxy.setAttribute("data-proxy","");proxy.isSameNode=function(el){return el&&el.dataset.nanocomponent===self._ncID};return proxy};Nanocomponent.prototype._reset=function(){this._ncID=makeID();this._olID=null;this._id=null;this._proxy=null;this._rootNodeName=null};Nanocomponent.prototype._brandNode=function(node){node.setAttribute("data-nanocomponent",this._ncID);if(this._olID)node.setAttribute(OL_ATTR_ID,this._olID);return node};Nanocomponent.prototype._ensureID=function(node){if(node.id)this._id=node.id;else node.id=this._id=this._ncID;if(this._proxy&&this._proxy.id!==this._id)this._proxy.id=this._id;return node};Nanocomponent.prototype._handleLoad=function(el){if(this._loaded){if(this.afterreorder)this.afterreorder(el);return}this._loaded=true;if(this.load)this.load(el)};Nanocomponent.prototype._handleUnload=function(el){if(this.element)return;this._loaded=false;if(this.unload)this.unload(el)};Nanocomponent.prototype.createElement=function(){throw new Error("nanocomponent: createElement should be implemented!")};Nanocomponent.prototype.update=function(){throw new Error("nanocomponent: update should be implemented!")}},{assert:30,"global/document":23,nanomorph:39,nanotiming:43,"on-load":45}],32:[function(require,module,exports){"use strict";var trailingNewlineRegex=/\n[\s]+$/;var leadingNewlineRegex=/^\n[\s]+/;var trailingSpaceRegex=/[\s]+$/;var leadingSpaceRegex=/^[\s]+/;var multiSpaceRegex=/[\n\s]+/g;var TEXT_TAGS=["a","abbr","b","bdi","bdo","br","cite","data","dfn","em","i","kbd","mark","q","rp","rt","rtc","ruby","s","amp","small","span","strong","sub","sup","time","u","var","wbr"];var VERBATIM_TAGS=["code","pre","textarea"];module.exports=function appendChild(el,childs){if(!Array.isArray(childs))return;var nodeName=el.nodeName.toLowerCase();var hadText=false;var value,leader;for(var i=0,len=childs.length;i<len;i++){var node=childs[i];if(Array.isArray(node)){appendChild(el,node);continue}if(typeof node==="number"||typeof node==="boolean"||typeof node==="function"||node instanceof Date||node instanceof RegExp){node=node.toString()}var lastChild=el.childNodes[el.childNodes.length-1];if(typeof node==="string"){hadText=true;if(lastChild&&lastChild.nodeName==="#text"){lastChild.nodeValue+=node}else{node=el.ownerDocument.createTextNode(node);el.appendChild(node);lastChild=node}if(i===len-1){hadText=false;if(TEXT_TAGS.indexOf(nodeName)===-1&&VERBATIM_TAGS.indexOf(nodeName)===-1){value=lastChild.nodeValue.replace(leadingNewlineRegex,"").replace(trailingSpaceRegex,"").replace(trailingNewlineRegex,"").replace(multiSpaceRegex," ");if(value===""){el.removeChild(lastChild)}else{lastChild.nodeValue=value}}else if(VERBATIM_TAGS.indexOf(nodeName)===-1){leader=i===0?"":" ";value=lastChild.nodeValue.replace(leadingNewlineRegex,leader).replace(leadingSpaceRegex," ").replace(trailingSpaceRegex,"").replace(trailingNewlineRegex,"").replace(multiSpaceRegex," ");lastChild.nodeValue=value}}}else if(node&&node.nodeType){if(hadText){hadText=false;if(TEXT_TAGS.indexOf(nodeName)===-1&&VERBATIM_TAGS.indexOf(nodeName)===-1){value=lastChild.nodeValue.replace(leadingNewlineRegex,"").replace(trailingNewlineRegex," ").replace(multiSpaceRegex," ");if(value===""){el.removeChild(lastChild)}else{lastChild.nodeValue=value}}else if(VERBATIM_TAGS.indexOf(nodeName)===-1){value=lastChild.nodeValue.replace(leadingSpaceRegex," ").replace(leadingNewlineRegex,"").replace(trailingNewlineRegex," ").replace(multiSpaceRegex," ");lastChild.nodeValue=value}}var _nodeName=node.nodeName;if(_nodeName)nodeName=_nodeName.toLowerCase();el.appendChild(node)}}}},{}],33:[function(require,module,exports){"use strict";module.exports=["async","autofocus","autoplay","checked","controls","default","defaultchecked","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","novalidate","open","playsinline","readonly","required","reversed","selected"]},{}],34:[function(require,module,exports){module.exports=require("./dom")(document)},{"./dom":36}],35:[function(require,module,exports){"use strict";module.exports=["indeterminate"]},{}],36:[function(require,module,exports){"use strict";var hyperx=require("hyperx");var appendChild=require("./append-child");var SVG_TAGS=require("./svg-tags");var BOOL_PROPS=require("./bool-props");var DIRECT_PROPS=require("./direct-props");var SVGNS="http://www.w3.org/2000/svg";var XLINKNS="http://www.w3.org/1999/xlink";var COMMENT_TAG="!--";module.exports=function(document){function nanoHtmlCreateElement(tag,props,children){var el;if(SVG_TAGS.indexOf(tag)!==-1){props.namespace=SVGNS}var ns=false;if(props.namespace){ns=props.namespace;delete props.namespace}var isCustomElement=false;if(props.is){isCustomElement=props.is;delete props.is}if(ns){if(isCustomElement){el=document.createElementNS(ns,tag,{is:isCustomElement})}else{el=document.createElementNS(ns,tag)}}else if(tag===COMMENT_TAG){return document.createComment(props.comment)}else if(isCustomElement){el=document.createElement(tag,{is:isCustomElement})}else{el=document.createElement(tag)}for(var p in props){if(props.hasOwnProperty(p)){var key=p.toLowerCase();var val=props[p];if(key==="classname"){key="class";p="class"}if(p==="htmlFor"){p="for"}if(BOOL_PROPS.indexOf(key)!==-1){if(String(val)==="true")val=key;else if(String(val)==="false")continue}if(key.slice(0,2)==="on"||DIRECT_PROPS.indexOf(key)!==-1){el[p]=val}else{if(ns){if(p==="xlink:href"){el.setAttributeNS(XLINKNS,p,val)}else if(/^xmlns($|:)/i.test(p)){}else{el.setAttributeNS(null,p,val)}}else{el.setAttribute(p,val)}}}}appendChild(el,children);return el}function createFragment(nodes){var fragment=document.createDocumentFragment();for(var i=0;i<nodes.length;i++){if(nodes[i]==null)continue;if(Array.isArray(nodes[i])){fragment.appendChild(createFragment(nodes[i]))}else{if(typeof nodes[i]==="string")nodes[i]=document.createTextNode(nodes[i]);fragment.appendChild(nodes[i])}}return fragment}var exports=hyperx(nanoHtmlCreateElement,{comments:true,createFragment:createFragment});exports.default=exports;exports.createComment=nanoHtmlCreateElement;return exports}},{"./append-child":32,"./bool-props":33,"./direct-props":35,"./svg-tags":38,hyperx:27}],37:[function(require,module,exports){"use strict";function nanohtmlRawBrowser(tag){var el=document.createElement("div");el.innerHTML=tag;return toArray(el.childNodes)}function toArray(arr){return Array.isArray(arr)?arr:[].slice.call(arr)}module.exports=nanohtmlRawBrowser},{}],38:[function(require,module,exports){"use strict";module.exports=["svg","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"]},{}],39:[function(require,module,exports){var assert=require("nanoassert");var morph=require("./lib/morph");var TEXT_NODE=3;module.exports=nanomorph;function nanomorph(oldTree,newTree,options){assert.equal(typeof oldTree,"object","nanomorph: oldTree should be an object");assert.equal(typeof newTree,"object","nanomorph: newTree should be an object");if(options&&options.childrenOnly){updateChildren(newTree,oldTree);return oldTree}assert.notEqual(newTree.nodeType,11,"nanomorph: newTree should have one root node (which is not a DocumentFragment)");return walk(newTree,oldTree)}function walk(newNode,oldNode){if(!oldNode){return newNode}else if(!newNode){return null}else if(newNode.isSameNode&&newNode.isSameNode(oldNode)){return oldNode}else if(newNode.tagName!==oldNode.tagName||getComponentId(newNode)!==getComponentId(oldNode)){return newNode}else{morph(newNode,oldNode);updateChildren(newNode,oldNode);return oldNode}}function getComponentId(node){return node.dataset?node.dataset.nanomorphComponentId:undefined}function updateChildren(newNode,oldNode){var oldChild,newChild,morphed,oldMatch;var offset=0;for(var i=0;;i++){oldChild=oldNode.childNodes[i];newChild=newNode.childNodes[i-offset];if(!oldChild&&!newChild){break}else if(!newChild){oldNode.removeChild(oldChild);i--}else if(!oldChild){oldNode.appendChild(newChild);offset++}else if(same(newChild,oldChild)){morphed=walk(newChild,oldChild);if(morphed!==oldChild){oldNode.replaceChild(morphed,oldChild);offset++}}else{oldMatch=null;for(var j=i;j<oldNode.childNodes.length;j++){if(same(oldNode.childNodes[j],newChild)){oldMatch=oldNode.childNodes[j];break}}if(oldMatch){morphed=walk(newChild,oldMatch);if(morphed!==oldMatch)offset++;oldNode.insertBefore(morphed,oldChild)}else if(!newChild.id&&!oldChild.id){morphed=walk(newChild,oldChild);if(morphed!==oldChild){oldNode.replaceChild(morphed,oldChild);offset++}}else{oldNode.insertBefore(newChild,oldChild);offset++}}}}function same(a,b){if(a.id)return a.id===b.id;if(a.isSameNode)return a.isSameNode(b);if(a.tagName!==b.tagName)return false;if(a.type===TEXT_NODE)return a.nodeValue===b.nodeValue;return false}},{"./lib/morph":41,nanoassert:30}],40:[function(require,module,exports){module.exports=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onmouseenter","onmouseleave","ontouchcancel","ontouchend","ontouchmove","ontouchstart","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","oncontextmenu","onfocusin","onfocusout"]},{}],41:[function(require,module,exports){var events=require("./events");var eventsLength=events.length;var ELEMENT_NODE=1;var TEXT_NODE=3;var COMMENT_NODE=8;module.exports=morph;function morph(newNode,oldNode){var nodeType=newNode.nodeType;var nodeName=newNode.nodeName;if(nodeType===ELEMENT_NODE){copyAttrs(newNode,oldNode)}if(nodeType===TEXT_NODE||nodeType===COMMENT_NODE){if(oldNode.nodeValue!==newNode.nodeValue){oldNode.nodeValue=newNode.nodeValue}}if(nodeName==="INPUT")updateInput(newNode,oldNode);else if(nodeName==="OPTION")updateOption(newNode,oldNode);else if(nodeName==="TEXTAREA")updateTextarea(newNode,oldNode);copyEvents(newNode,oldNode)}function copyAttrs(newNode,oldNode){var oldAttrs=oldNode.attributes;var newAttrs=newNode.attributes;var attrNamespaceURI=null;var attrValue=null;var fromValue=null;var attrName=null;var attr=null;for(var i=newAttrs.length-1;i>=0;--i){attr=newAttrs[i];attrName=attr.name;attrNamespaceURI=attr.namespaceURI;attrValue=attr.value;if(attrNamespaceURI){attrName=attr.localName||attrName;fromValue=oldNode.getAttributeNS(attrNamespaceURI,attrName);if(fromValue!==attrValue){oldNode.setAttributeNS(attrNamespaceURI,attrName,attrValue)}}else{if(!oldNode.hasAttribute(attrName)){oldNode.setAttribute(attrName,attrValue)}else{fromValue=oldNode.getAttribute(attrName);if(fromValue!==attrValue){if(attrValue==="null"||attrValue==="undefined"){oldNode.removeAttribute(attrName)}else{oldNode.setAttribute(attrName,attrValue)}}}}}for(var j=oldAttrs.length-1;j>=0;--j){attr=oldAttrs[j];if(attr.specified!==false){attrName=attr.name;attrNamespaceURI=attr.namespaceURI;if(attrNamespaceURI){attrName=attr.localName||attrName;if(!newNode.hasAttributeNS(attrNamespaceURI,attrName)){oldNode.removeAttributeNS(attrNamespaceURI,attrName)}}else{if(!newNode.hasAttributeNS(null,attrName)){oldNode.removeAttribute(attrName)}}}}}function copyEvents(newNode,oldNode){for(var i=0;i<eventsLength;i++){var ev=events[i];if(newNode[ev]){oldNode[ev]=newNode[ev]}else if(oldNode[ev]){oldNode[ev]=undefined}}}function updateOption(newNode,oldNode){updateAttribute(newNode,oldNode,"selected")}function updateInput(newNode,oldNode){var newValue=newNode.value;var oldValue=oldNode.value;updateAttribute(newNode,oldNode,"checked");updateAttribute(newNode,oldNode,"disabled");if(newNode.indeterminate!==oldNode.indeterminate){oldNode.indeterminate=newNode.indeterminate}if(oldNode.type==="file")return;if(newValue!==oldValue){oldNode.setAttribute("value",newValue);oldNode.value=newValue}if(newValue==="null"){oldNode.value="";oldNode.removeAttribute("value")}if(!newNode.hasAttributeNS(null,"value")){oldNode.removeAttribute("value")}else if(oldNode.type==="range"){oldNode.value=newValue}}function updateTextarea(newNode,oldNode){var newValue=newNode.value;if(newValue!==oldNode.value){oldNode.value=newValue}if(oldNode.firstChild&&oldNode.firstChild.nodeValue!==newValue){if(newValue===""&&oldNode.firstChild.nodeValue===oldNode.placeholder){return}oldNode.firstChild.nodeValue=newValue}}function updateAttribute(newNode,oldNode,name){if(newNode[name]!==oldNode[name]){oldNode[name]=newNode[name];if(newNode[name]){oldNode.setAttribute(name,"")}else{oldNode.removeAttribute(name)}}}},{"./events":40}],42:[function(require,module,exports){var assert=require("assert");var hasWindow=typeof window!=="undefined";function createScheduler(){var scheduler;if(hasWindow){if(!window._nanoScheduler)window._nanoScheduler=new NanoScheduler(true);scheduler=window._nanoScheduler}else{scheduler=new NanoScheduler}return scheduler}function NanoScheduler(hasWindow){this.hasWindow=hasWindow;this.hasIdle=this.hasWindow&&window.requestIdleCallback;this.method=this.hasIdle?window.requestIdleCallback.bind(window):this.setTimeout;this.scheduled=false;this.queue=[]}NanoScheduler.prototype.push=function(cb){assert.equal(typeof cb,"function","nanoscheduler.push: cb should be type function");this.queue.push(cb);this.schedule()};NanoScheduler.prototype.schedule=function(){if(this.scheduled)return;this.scheduled=true;var self=this;this.method(function(idleDeadline){var cb;while(self.queue.length&&idleDeadline.timeRemaining()>0){cb=self.queue.shift();cb(idleDeadline)}self.scheduled=false;if(self.queue.length)self.schedule()})};NanoScheduler.prototype.setTimeout=function(cb){setTimeout(cb,0,{timeRemaining:function(){return 1}})};module.exports=createScheduler},{assert:30}],43:[function(require,module,exports){var scheduler=require("nanoscheduler")();var assert=require("assert");var perf;nanotiming.disabled=true;try{perf=window.performance;nanotiming.disabled=window.localStorage.DISABLE_NANOTIMING==="true"||!perf.mark}catch(e){}module.exports=nanotiming;function nanotiming(name){assert.equal(typeof name,"string","nanotiming: name should be type string");if(nanotiming.disabled)return noop;var uuid=(perf.now()*1e4).toFixed()%Number.MAX_SAFE_INTEGER;var startName="start-"+uuid+"-"+name;perf.mark(startName);function end(cb){var endName="end-"+uuid+"-"+name;perf.mark(endName);scheduler.push(function(){var err=null;try{var measureName=name+" ["+uuid+"]";perf.measure(measureName,startName,endName);perf.clearMarks(startName);perf.clearMarks(endName)}catch(e){err=e}if(cb)cb(err,name)})}end.uuid=uuid;return end}function noop(cb){if(cb){scheduler.push(function(){cb(new Error("nanotiming: performance API unavailable"))})}}},{assert:30,nanoscheduler:42}],44:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var lower_case_1=require("lower-case");var DEFAULT_SPLIT_REGEXP=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g];var DEFAULT_STRIP_REGEXP=/[^A-Z0-9]+/gi;function noCase(input,options){if(options===void 0){options={}}var _a=options.splitRegexp,splitRegexp=_a===void 0?DEFAULT_SPLIT_REGEXP:_a,_b=options.stripRegexp,stripRegexp=_b===void 0?DEFAULT_STRIP_REGEXP:_b,_c=options.transform,transform=_c===void 0?lower_case_1.lowerCase:_c,_d=options.delimiter,delimiter=_d===void 0?" ":_d;var result=replace(replace(input,splitRegexp,"$1\0$2"),stripRegexp,"\0");var start=0;var end=result.length;while(result.charAt(start)==="\0")start++;while(result.charAt(end-1)==="\0")end--;return result.slice(start,end).split("\0").map(transform).join(delimiter)}exports.noCase=noCase;function replace(input,re,value){if(re instanceof RegExp)return input.replace(re,value);return re.reduce(function(input,re){return input.replace(re,value)},input)}},{"lower-case":29}],45:[function(require,module,exports){var document=require("global/document");var window=require("global/window");var assert=require("assert");var watch=Object.create(null);var KEY_ID="onloadid"+(new Date%9e6).toString(36);var KEY_ATTR="data-"+KEY_ID;var INDEX=0;if(window&&window.MutationObserver){var observer=new MutationObserver(function(mutations){if(Object.keys(watch).length<1)return;for(var i=0;i<mutations.length;i++){if(mutations[i].attributeName===KEY_ATTR){eachAttr(mutations[i],turnon,turnoff);continue}eachMutation(mutations[i].removedNodes,turnoff);eachMutation(mutations[i].addedNodes,turnon)}});if(document.body){beginObserve(observer)}else{document.addEventListener("DOMContentLoaded",function(event){beginObserve(observer)})}}function beginObserve(observer){observer.observe(document.documentElement,{childList:true,subtree:true,attributes:true,attributeOldValue:true,attributeFilter:[KEY_ATTR]})}module.exports=function onload(el,on,off,caller){assert(document.body,"on-load: will not work prior to DOMContentLoaded");on=on||function(){};off=off||function(){};el.setAttribute(KEY_ATTR,"o"+INDEX);watch["o"+INDEX]=[on,off,0,caller||onload.caller];INDEX+=1;return el};module.exports.KEY_ATTR=KEY_ATTR;module.exports.KEY_ID=KEY_ID;function turnon(index,el){if(watch[index][0]&&watch[index][2]===0){watch[index][0](el);watch[index][2]=1}}function turnoff(index,el){if(watch[index][1]&&watch[index][2]===1){watch[index][1](el);watch[index][2]=0}}function eachAttr(mutation,on,off){var newValue=mutation.target.getAttribute(KEY_ATTR);if(sameOrigin(mutation.oldValue,newValue)){watch[newValue]=watch[mutation.oldValue];return}if(watch[mutation.oldValue]){off(mutation.oldValue,mutation.target)}if(watch[newValue]){on(newValue,mutation.target)}}function sameOrigin(oldValue,newValue){if(!oldValue||!newValue)return false;return watch[oldValue][3]===watch[newValue][3]}function eachMutation(nodes,fn){var keys=Object.keys(watch);for(var i=0;i<nodes.length;i++){if(nodes[i]&&nodes[i].getAttribute&&nodes[i].getAttribute(KEY_ATTR)){var onloadid=nodes[i].getAttribute(KEY_ATTR);keys.forEach(function(k){if(onloadid===k){fn(k,nodes[i])}})}if(nodes[i].childNodes.length>0){eachMutation(nodes[i].childNodes,fn)}}}},{assert:30,"global/document":23,"global/window":24}],46:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=require("tslib");var dot_case_1=require("dot-case");function paramCase(input,options){if(options===void 0){options={}}return dot_case_1.dotCase(input,tslib_1.__assign({delimiter:"-"},options))}exports.paramCase=paramCase},{"dot-case":22,tslib:47}],47:[function(require,module,exports){(function(global){(function(){var __extends;var __assign;var __rest;var __decorate;var __param;var __metadata;var __awaiter;var __generator;var __exportStar;var __values;var __read;var __spread;var __spreadArrays;var __await;var __asyncGenerator;var __asyncDelegator;var __asyncValues;var __makeTemplateObject;var __importStar;var __importDefault;var __classPrivateFieldGet;var __classPrivateFieldSet;var __createBinding;(function(factory){var root=typeof global==="object"?global:typeof self==="object"?self:typeof this==="object"?this:{};if(typeof define==="function"&&define.amd){define("tslib",["exports"],function(exports){factory(createExporter(root,createExporter(exports)))})}else if(typeof module==="object"&&typeof module.exports==="object"){factory(createExporter(root,createExporter(module.exports)))}else{factory(createExporter(root))}function createExporter(exports,previous){if(exports!==root){if(typeof Object.create==="function"){Object.defineProperty(exports,"__esModule",{value:true})}else{exports.__esModule=true}}return function(id,v){return exports[id]=previous?previous(id,v):v}}})(function(exporter){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};__extends=function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};__rest=function(s,e){var t={};for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0)t[p]=s[p];if(s!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++){if(e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i]))t[p[i]]=s[p[i]]}return t};__decorate=function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};__metadata=function(metadataKey,metadataValue){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(metadataKey,metadataValue)};__awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};__generator=function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};__createBinding=function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k]};__exportStar=function(m,exports){for(var p in m)if(p!=="default"&&!exports.hasOwnProperty(p))exports[p]=m[p]};__values=function(o){var s=typeof Symbol==="function"&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&typeof o.length==="number")return{next:function(){if(o&&i>=o.length)o=void 0;return{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};__read=function(o,n){var m=typeof Symbol==="function"&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{while((n===void 0||n-- >0)&&!(r=i.next()).done)ar.push(r.value)}catch(error){e={error:error}}finally{try{if(r&&!r.done&&(m=i["return"]))m.call(i)}finally{if(e)throw e.error}}return ar};__spread=function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar};__spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r};__await=function(v){return this instanceof __await?(this.v=v,this):new __await(v)};__asyncGenerator=function(thisArg,_arguments,generator){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g=generator.apply(thisArg,_arguments||[]),i,q=[];return i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i;function verb(n){if(g[n])i[n]=function(v){return new Promise(function(a,b){q.push([n,v,a,b])>1||resume(n,v)})}}function resume(n,v){try{step(g[n](v))}catch(e){settle(q[0][3],e)}}function step(r){r.value instanceof __await?Promise.resolve(r.value.v).then(fulfill,reject):settle(q[0][2],r)}function fulfill(value){resume("next",value)}function reject(value){resume("throw",value)}function settle(f,v){if(f(v),q.shift(),q.length)resume(q[0][0],q[0][1])}};__asyncDelegator=function(o){var i,p;return i={},verb("next"),verb("throw",function(e){throw e}),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(n,f){i[n]=o[n]?function(v){return(p=!p)?{value:__await(o[n](v)),done:n==="return"}:f?f(v):v}:f}};__asyncValues=function(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var m=o[Symbol.asyncIterator],i;return m?m.call(o):(o=typeof __values==="function"?__values(o):o[Symbol.iterator](),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(n){i[n]=o[n]&&function(v){return new Promise(function(resolve,reject){v=o[n](v),settle(resolve,reject,v.done,v.value)})}}function settle(resolve,reject,d,v){Promise.resolve(v).then(function(v){resolve({value:v,done:d})},reject)}};__makeTemplateObject=function(cooked,raw){if(Object.defineProperty){Object.defineProperty(cooked,"raw",{value:raw})}else{cooked.raw=raw}return cooked};__importStar=function(mod){if(mod&&mod.__esModule)return mod;var result={};if(mod!=null)for(var k in mod)if(Object.hasOwnProperty.call(mod,k))result[k]=mod[k];result["default"]=mod;return result};__importDefault=function(mod){return mod&&mod.__esModule?mod:{default:mod}};__classPrivateFieldGet=function(receiver,privateMap){if(!privateMap.has(receiver)){throw new TypeError("attempted to get private field on non-instance")}return privateMap.get(receiver)};__classPrivateFieldSet=function(receiver,privateMap,value){if(!privateMap.has(receiver)){throw new TypeError("attempted to set private field on non-instance")}privateMap.set(receiver,value);return value};exporter("__extends",__extends);exporter("__assign",__assign);exporter("__rest",__rest);exporter("__decorate",__decorate);exporter("__param",__param);exporter("__metadata",__metadata);exporter("__awaiter",__awaiter);exporter("__generator",__generator);exporter("__exportStar",__exportStar);exporter("__createBinding",__createBinding);exporter("__values",__values);exporter("__read",__read);exporter("__spread",__spread);exporter("__spreadArrays",__spreadArrays);exporter("__await",__await);exporter("__asyncGenerator",__asyncGenerator);exporter("__asyncDelegator",__asyncDelegator);exporter("__asyncValues",__asyncValues);exporter("__makeTemplateObject",__makeTemplateObject);exporter("__importStar",__importStar);exporter("__importDefault",__importDefault);exporter("__classPrivateFieldGet",__classPrivateFieldGet);exporter("__classPrivateFieldSet",__classPrivateFieldSet)})}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],ui:[function(require,module,exports){const BasicWidget=require("./widgets/basic-widget");const Button=require("./widgets/button");const CardSpread=require("./widgets/card-spread");const FlexRow=require("./widgets/flex-row");const Heading=require("./widgets/heading");const HTMLBody=require("./widgets/html-body");const Link=require("./widgets/link");const Monospace=require("./widgets/monospace");const NoticePanel=require("./widgets/notice-panel");const Paragraph=require("./widgets/paragraph");const PlayingCard=require("./widgets/playing-card");const SimpleForm=require("./widgets/simple-form");const SourceCode=require("./widgets/source-code");const StyledText=require("./widgets/styled-text");const Toolbar=require("./widgets/toolbar");const render=require("./widgets/render");const html=require("nanohtml");const raw=require("nanohtml/raw");const UI={widgets:[CardSpread,PlayingCard,NoticePanel,SimpleForm,FlexRow,Toolbar,Button,Heading,Paragraph,SourceCode,Monospace,Link,StyledText,HTMLBody],html:body=>{const markup=html`<!DOCTYPE html>
      <html><head>
        <title>${body.title}</title>
        <link rel="stylesheet" href="style.css">
        ${body.headTags}
      </head>${render(body)}</html>`;return markup.toString()},bold:text=>UI.StyledText({contents:text,style:{fontWeight:"bold"}}),italic:text=>UI.StyledText({contents:text,style:{fontStyle:"italic"}}),render:render,reconstitute:serializedWidgetsJSON=>{const root=JSON.parse(serializedWidgetsJSON,BasicWidget.json(UI.widgets).reviver);let widgets=Object.fromEntries(root.listWidgets().map(x=>[x.rpcID,x]));return{widgets:widgets,root:root}},connectLive:(widgetData,liveAccessKey)=>{const args={pageID:widgetData.root.rpcID,liveAccessKey:liveAccessKey};const queryString=Object.entries(args).map(([key,value])=>`${key}=${encodeURIComponent(value)}`).join("&");const url=window.location.pathname+"?"+queryString;const configuration={withCredentials:true};UI.pubsubSource=new EventSource(url,configuration);const reviver=BasicWidget.json(UI.widgets).reviver;UI.pubsubSource.onmessage=(messageEvent=>{let message=JSON.parse(messageEvent.data,reviver);if(message.patchList){console.log("Widget Patch List:",message.patchList);for(const rpcID in message.patchList){const patch=message.patchList[rpcID];const widget=widgetData.widgets[rpcID];if(!widget)return console.error("Widget not found",rpcID);widget.mergeRPCUpdate(patch);widget.render()}widgetData.widgets=Object.fromEntries(widgetData.root.listWidgets().map(x=>[x.rpcID,x]))}else if(message.disconnect){console.log("Server requested browser disconnect, closing EventSource");UI.pubsubSource.close()}})}};for(const Widget of UI.widgets){const name=Widget.name.replace(/^[A-Z]/,letter=>letter.toLowerCase());const shortcut=(...args)=>new Widget(...args);UI[name]=shortcut}module.exports=UI},{"./widgets/basic-widget":1,"./widgets/button":2,"./widgets/card-spread":3,"./widgets/flex-row":4,"./widgets/heading":5,"./widgets/html-body":6,"./widgets/link":7,"./widgets/monospace":8,"./widgets/notice-panel":9,"./widgets/paragraph":10,"./widgets/playing-card":11,"./widgets/render":12,"./widgets/simple-form":13,"./widgets/source-code":14,"./widgets/styled-text":15,"./widgets/toolbar":16,nanohtml:34,"nanohtml/raw":37}]},{},[]);
